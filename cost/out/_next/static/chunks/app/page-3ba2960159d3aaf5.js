(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5780:function(e,a,s){Promise.resolve().then(s.bind(s,4368))},4368:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return L}});var t=s(3827),r=s(4090),l=s(5110),n=s(3167),i=s(1367);function c(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,i.m6)((0,n.W)(a))}let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});o.displayName="Card",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:c("flex flex-col space-y-1.5 p-6",s),...r})}).displayName="CardHeader",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:c("text-2xl font-semibold leading-none tracking-tight",s),...r})}).displayName="CardTitle",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("p",{ref:a,className:c("text-sm text-muted-foreground",s),...r})}).displayName="CardDescription",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:c("p-6 pt-0",s),...r})}).displayName="CardContent",r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:c("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";var d=s(4602),m=s(7742);let h=(0,m.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(d.f,{ref:a,className:c(h(),s),...r})});u.displayName=d.f.displayName;let x=r.forwardRef((e,a)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});x.displayName="Input";var f=s(9143);let p=(0,m.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),j=r.forwardRef((e,a)=>{let{className:s,variant:r,size:l,asChild:n=!1,...i}=e,o=n?f.g7:"button";return(0,t.jsx)(o,{className:c(p({variant:r,size:l,className:s})),ref:a,...i})});j.displayName="Button";var g=s(1448),b=s(3441),N=s(5159),y=s(9259);let v=g.fC;g.ZA;let w=g.B4,k=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(g.xz,{ref:a,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,t.jsx)(g.JO,{asChild:!0,children:(0,t.jsx)(b.Z,{className:"h-4 w-4 opacity-50"})})]})});k.displayName=g.xz.displayName;let _=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(g.u_,{ref:a,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})})});_.displayName=g.u_.displayName;let C=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(g.$G,{ref:a,className:c("flex cursor-default items-center justify-center py-1",s),...r,children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})})});C.displayName=g.$G.displayName;let R=r.forwardRef((e,a)=>{let{className:s,children:r,position:l="popper",...n}=e;return(0,t.jsx)(g.h_,{children:(0,t.jsxs)(g.VY,{ref:a,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,t.jsx)(_,{}),(0,t.jsx)(g.l_,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(C,{})]})})});R.displayName=g.VY.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(g.__,{ref:a,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=g.__.displayName;let T=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(g.ck,{ref:a,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(g.wU,{children:(0,t.jsx)(y.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(g.eT,{children:r})]})});T.displayName=g.ck.displayName,r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(g.Z0,{ref:a,className:c("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=g.Z0.displayName;var S=s(7437),M=s(4232);let E={petrol:100.8,diesel:92.39,cng:90.5},Z={truck:{diesel:.35,cng:.4,petrol:.3},van:{diesel:.2,petrol:.25,cng:.25},car:{petrol:.1,diesel:.08,cng:.12}},F={truck:5,van:3,car:2},I=(e,a)=>{if(!Z[e][a]){let a=Object.keys(Z[e]).join(", ");throw Error("Invalid fuel type for ".concat(e,". Available options: ").concat(a))}},D=(e,a,s)=>{let t=Z[e][a]*E[a],r=F[e];return{perKm:{fuel:Number(t.toFixed(2)),maintenance:r,total:Number((t+r).toFixed(2))},total:{fuel:Number((t*s).toFixed(2)),maintenance:Number((r*s).toFixed(2)),total:Number(((t+r)*s).toFixed(2))}}};var P=s(7664),V=s(6716),W=s(2457),Y=s(1361),z=s(3683),O=s(5913);let A=(0,M.default)(()=>Promise.all([s.e(212),s.e(862)]).then(s.bind(s,8862)),{loadableGenerated:{webpack:()=>[8862]},ssr:!1});function J(){let[e,a]=(0,r.useState)("car"),[s,n]=(0,r.useState)("petrol"),[i,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,f]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),b=async e=>{var a;let s="https://api.tomtom.com/search/2/geocode/".concat(encodeURIComponent(e),".json"),t=await fetch("".concat(s,"?key=").concat("0o13YwCdJPYr8fvFOWsY9iPmZJt1euc0","&limit=1"));if(!t.ok)throw Error("Geocoding failed");let r=await t.json();if(!(null===(a=r.results)||void 0===a?void 0:a.length))throw Error("No results found for location: ".concat(e));let l=r.results[0];return{lat:l.position.lat,lon:l.position.lon,formatted:l.address.freeformAddress}},N=async(e,a)=>{let s="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(a,"&appid=").concat("91345a5ed9fa4e5a45525daf10ab18ef","&units=metric"),t=await fetch(s);if(!t.ok)throw Error("Weather data fetch failed");return t.json()},y=async(e,a)=>{let s="https://api.tomtom.com/routing/1/calculateRoute/".concat(e,":").concat(a,"/json");return await Promise.all([{type:"fastest",color:"red",params:{routeType:"fastest",travelMode:"truck"}},{type:"eco",color:"green",params:{routeType:"eco",travelMode:"truck"}}].map(async e=>{let a=await fetch("".concat(s,"?key=").concat("0o13YwCdJPYr8fvFOWsY9iPmZJt1euc0","&traffic=true&").concat(new URLSearchParams(e.params)));if(!a.ok)throw Error("Route calculation failed for ".concat(e.type));return{...(await a.json()).routes[0],color:e.color}}))},_=async a=>{if(a.preventDefault(),!i.trim()||!d.trim()){S.toast.error("Please enter both start and end locations.");return}f(!0);try{I(e,s),S.toast.info("Calculating route and costs...",{autoClose:2e3});let a=await b(i),t=await b(d),r="".concat(a.lat,",").concat(a.lon),l="".concat(t.lat,",").concat(t.lon),n=await y(r,l),c=await N(a.lat,a.lon),o=await N(t.lat,t.lon),m=n[0].summary.lengthInMeters/1e3,h=D(e,s,m),u=n[1].summary.travelTimeInSeconds-n[0].summary.travelTimeInSeconds,x=(n[1].summary.lengthInMeters-n[0].summary.lengthInMeters)/1e3;g({start:a.formatted,end:t.formatted,vehicle:e,fuel:s,distance:m,weather_start:c,weather_end:o,routes:n,per_km:h.perKm,total:h.total,time:{fastest:{hours:Math.floor(n[0].summary.travelTimeInSeconds/3600),minutes:Math.floor(n[0].summary.travelTimeInSeconds%3600/60)},eco:{hours:Math.floor(n[1].summary.travelTimeInSeconds/3600),minutes:Math.floor(n[1].summary.travelTimeInSeconds%3600/60)}},route_comparison:{time_diff_minutes:Math.floor(u/60),distance_diff:Math.round(100*x)/100}}),S.toast.success("Calculation completed successfully!")}catch(e){S.toast.error(e instanceof Error?e.message:"An error occurred")}finally{f(!1)}};return(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"\uD83D\uDE9A Delivery Cost Calculator"}),(0,t.jsx)("p",{className:"text-xl text-gray-600",children:"Calculate delivery costs with real-time weather and route information"})]}),(0,t.jsx)(l.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsx)(o,{className:"p-8 shadow-xl bg-white/80 backdrop-blur-sm",children:(0,t.jsxs)("form",{onSubmit:_,className:"space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)(u,{htmlFor:"vehicle",className:"text-lg",children:"Vehicle Type"})]}),(0,t.jsxs)(v,{value:e,onValueChange:e=>a(e),children:[(0,t.jsx)(k,{className:"h-12",children:(0,t.jsx)(w,{placeholder:"Select vehicle"})}),(0,t.jsxs)(R,{children:[(0,t.jsx)(T,{value:"car",children:"Car"}),(0,t.jsx)(T,{value:"van",children:"Van"}),(0,t.jsx)(T,{value:"truck",children:"Truck"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(V.Z,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)(u,{htmlFor:"fuel",className:"text-lg",children:"Fuel Type"})]}),(0,t.jsxs)(v,{value:s,onValueChange:e=>n(e),children:[(0,t.jsx)(k,{className:"h-12",children:(0,t.jsx)(w,{placeholder:"Select fuel"})}),(0,t.jsxs)(R,{children:[(0,t.jsx)(T,{value:"petrol",children:"Petrol"}),(0,t.jsx)(T,{value:"diesel",children:"Diesel"}),(0,t.jsx)(T,{value:"cng",children:"CNG"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.Z,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)(u,{htmlFor:"start",className:"text-lg",children:"Start Location"})]}),(0,t.jsx)(x,{id:"start",className:"h-12",placeholder:"Enter city name (e.g., Delhi)",value:i,onChange:e=>c(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 text-gray-600"}),(0,t.jsx)(u,{htmlFor:"end",className:"text-lg",children:"End Location"})]}),(0,t.jsx)(x,{id:"end",className:"h-12",placeholder:"Enter city name (e.g., Mumbai)",value:d,onChange:e=>m(e.target.value)})]})]}),(0,t.jsx)("div",{className:"flex justify-center mt-8",children:(0,t.jsx)(l.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsx)(j,{type:"submit",disabled:h,className:"h-12 px-8 text-lg bg-blue-600 hover:bg-blue-700",children:h?"Calculating...":"Calculate Cost"})})})]})})}),p&&(0,t.jsx)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,t.jsxs)("div",{className:"mt-12 space-y-8",children:[(0,t.jsxs)(o,{className:"p-8 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)("div",{className:"flex items-center gap-3 mb-6",children:(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Delivery Cost Report"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(W.Z,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"Start:"}),(0,t.jsx)("span",{children:p.start})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(Y.Z,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"End:"}),(0,t.jsx)("span",{children:p.end})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P.Z,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"Vehicle:"}),(0,t.jsx)("span",{children:p.vehicle})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(V.Z,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"Fuel:"}),(0,t.jsx)("span",{children:p.fuel})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z.Z,{className:"w-5 h-5 text-green-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"Total Cost:"}),(0,t.jsxs)("span",{className:"text-xl font-bold text-green-600",children:["₹",p.total.total.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(O.Z,{className:"w-5 h-5 text-blue-600"}),(0,t.jsx)("span",{className:"font-semibold",children:"Weather Conditions:"}),(0,t.jsxs)("span",{children:[p.weather_start.weather[0].description," at start, ",p.weather_end.weather[0].description," at end"]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)(o,{className:"p-8 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Route Options"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-red-50",children:[(0,t.jsx)("div",{className:"font-semibold text-lg mb-2",children:"Fastest Route"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:["Distance: ",Math.round(p.routes[0].summary.lengthInMeters/1e3)," km"]}),(0,t.jsxs)("p",{children:["Time: ",p.time.fastest.hours,"h ",p.time.fastest.minutes,"m"]}),(0,t.jsxs)("p",{children:["Traffic Delay: ",Math.round(p.routes[0].summary.trafficDelayInSeconds/60),"m"]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg bg-green-50",children:[(0,t.jsx)("div",{className:"font-semibold text-lg mb-2",children:"Eco Route"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:["Distance: ",Math.round(p.routes[1].summary.lengthInMeters/1e3)," km"]}),(0,t.jsxs)("p",{children:["Time: ",p.time.eco.hours,"h ",p.time.eco.minutes,"m"]}),(0,t.jsxs)("p",{children:["Traffic Delay: ",Math.round(p.routes[1].summary.trafficDelayInSeconds/60),"m"]})]})]})]})]}),(0,t.jsxs)(o,{className:"p-8 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Cost Breakdown"}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Per Kilometer"}),(0,t.jsxs)("p",{children:["Fuel: ₹",p.per_km.fuel]}),(0,t.jsxs)("p",{children:["Maintenance: ₹",p.per_km.maintenance]}),(0,t.jsxs)("p",{className:"font-bold mt-2",children:["Total: ₹",p.per_km.total]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"Total Journey"}),(0,t.jsxs)("p",{children:["Fuel: ₹",p.total.fuel]}),(0,t.jsxs)("p",{children:["Maintenance: ₹",p.total.maintenance]}),(0,t.jsxs)("p",{className:"font-bold mt-2",children:["Total: ₹",p.total.total]})]})]})})]})]}),(0,t.jsxs)(o,{className:"p-8 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Weather Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-semibold mb-4",children:["Start Location (",p.weather_start.name,")"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(p.weather_start.weather[0].icon,".png"),alt:"Weather icon",className:"w-8 h-8"}),(0,t.jsx)("p",{children:p.weather_start.weather[0].description})]}),(0,t.jsxs)("p",{children:["Temperature: ",p.weather_start.main.temp,"\xb0C"]}),(0,t.jsxs)("p",{children:["Humidity: ",p.weather_start.main.humidity,"%"]})]})]}),(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-semibold mb-4",children:["End Location (",p.weather_end.name,")"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(p.weather_end.weather[0].icon,".png"),alt:"Weather icon",className:"w-8 h-8"}),(0,t.jsx)("p",{children:p.weather_end.weather[0].description})]}),(0,t.jsxs)("p",{children:["Temperature: ",p.weather_end.main.temp,"\xb0C"]}),(0,t.jsxs)("p",{children:["Humidity: ",p.weather_end.main.humidity,"%"]})]})]})]})]}),(0,t.jsxs)(o,{className:"p-8 bg-white/80 backdrop-blur-sm",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Route Map"}),(0,t.jsx)(A,{report:p})]})]})})]})}function L(){return(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-blue-100 py-12",children:(0,t.jsx)(J,{})})}}},function(e){e.O(0,[110,298,509,971,69,744],function(){return e(e.s=5780)}),_N_E=e.O()}]);