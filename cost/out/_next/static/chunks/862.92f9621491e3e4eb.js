"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[862],{8862:function(e,r,t){t.r(r),t.d(r,{default:function(){return d}});var n=t(3827),a=t(4090),o=t(6461),u=t.n(o);function d(e){let{report:r}=e,t=(0,a.useRef)(null),o=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(!o.current||t.current)return;let e=[r.weather_start.coord.lat,r.weather_start.coord.lon],n=[r.weather_end.coord.lat,r.weather_end.coord.lon];t.current=u().map(o.current).setView(e,10),u().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18}).addTo(t.current),u().marker(e).addTo(t.current).bindPopup("Start").openPopup(),u().marker(n).addTo(t.current).bindPopup("End"),r.routes.forEach(e=>{let r=e.legs[0].points.map(e=>[e.latitude,e.longitude]);u().polyline(r,{color:e.color}).addTo(t.current)}),(r.weather_start.weather[0].main.toLowerCase().includes("rain")||r.weather_start.weather[0].main.toLowerCase().includes("storm"))&&u().circle(e,{radius:5e3,color:"red"}).addTo(t.current).bindPopup("Bad weather at start"),(r.weather_end.weather[0].main.toLowerCase().includes("rain")||r.weather_end.weather[0].main.toLowerCase().includes("storm"))&&u().circle(n,{radius:5e3,color:"red"}).addTo(t.current).bindPopup("Bad weather at end");let a=u().latLngBounds([e,n]);return t.current.fitBounds(a,{padding:[50,50]}),()=>{t.current&&(t.current.remove(),t.current=null)}},[r]),(0,n.jsx)("div",{ref:o,className:"h-[400px] w-full rounded-lg"})}}}]);